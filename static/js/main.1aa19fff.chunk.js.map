{"version":3,"sources":["redux/state/state.js","redux/reducers/index.js","redux/reducers/timezoneReducer.js","redux/store/store.js","components/clock/Clock.js","redux/action/action.js","useInterval.js","components/app/App.js","index.js"],"names":["timezone","clocks","id","timeZone","allReducers","combineReducers","timezoneReducer","state","action","type","payload","value","console","log","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","Clock","interval","onChangeTimezone","useEffect","updateTime","timeGlobal","Date","time","refHour","useRef","refMinute","refSecond","dispatch","useDispatch","toLocaleString","substring","useState","clockTime","setClockTime","insideTime","currentDate","secondsRatio","getSeconds","minutesRatio","getMinutes","hoursRatio","getHours","setRotation","setClock","element","rotationRatio","current","style","setProperty","className","ref","onChange","e","target","getAttributeSelect","useInterval","callback","delay","savedCallback","setInterval","clearInterval","App","stateRedux","useSelector","incrementInterval","setTimezone","timezone2","setTimezone2","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1aa19fff.chunk.js","sourcesContent":["export const timezone = {\r\n\r\n  clocks: [\r\n    {\r\n      id: 'clock1',  \r\n      timeZone: 'Europe/Moscow'\r\n    },\r\n    \r\n    {\r\n      id: 'clock2',  \r\n      timeZone: 'Asia/Krasnoyarsk'\r\n    }\r\n  ]\r\n\r\n};","import { combineReducers } from 'redux';\r\nimport { timezoneReducer } from './timezoneReducer';\r\n\r\nconst allReducers = combineReducers({\r\n    timezoneReducer,\r\n\r\n});\r\n\r\nexport default allReducers;","import { timezone } from '../state/state';\r\n\r\nexport const timezoneReducer = (state = timezone, action) => {\r\n\r\n  switch (action.type) {\r\n    case 'CHANGE_TIMEZONE':\r\n      if(action.payload.id === state.clocks[0].id) {\r\n        state.clocks[0].timeZone = action.payload.value;\r\n        console.log(state)\r\n        return state\r\n      }\r\n\r\n      if(action.payload.id === state.clocks[1].id) {\r\n        state.clocks[1].timeZone = action.payload.value;\r\n        return state\r\n      }\r\n\r\n      return state\r\n     \r\n    default: \r\n      return state \r\n    }\r\n}","import { createStore } from 'redux';\r\nimport allReducers from '../reducers/index';\r\n\r\nexport const store = createStore(\r\n  allReducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n);","import React, { useEffect, useState, useRef } from 'react';\r\nimport './Clock.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { changeTimeZone } from '../../redux/action/action'\r\n\r\n\r\n\r\nfunction Clock({interval, timezone, onChangeTimezone, id}) {\r\n\r\n    useEffect(() => {updateTime()},[interval])\r\n//---------------------------------------------Цифровые часы (снизу)-----------------------------\r\n  let timeGlobal = new Date();\r\n  let time = new Date();\r\n \r\n  const refHour = useRef(null)\r\n  const refMinute = useRef(null)\r\n  const refSecond = useRef(null)\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  time = timeGlobal.toLocaleString(\"en-GB\", {timeZone: timezone}).substring(12,20);\r\n  const [clockTime, setClockTime] = useState(time);\r\n \r\n/*----------------------------- Аналоговые часы --------------------------------*/\r\n  \r\n  const setClock = () => {\r\n\r\n    if (!refHour || !refMinute || !refSecond) return null\r\n\r\n    const insideTime = new Date();\r\n    const currentDate = new Date(insideTime.toLocaleString(\"en-US\", {timeZone: timezone}));\r\n    const secondsRatio = currentDate.getSeconds() / 60;\r\n    const minutesRatio = (secondsRatio + currentDate.getMinutes()) / 60;\r\n    const hoursRatio = (minutesRatio + currentDate.getHours()) / 12;\r\n    setRotation(refSecond, secondsRatio)\r\n    setRotation(refMinute, minutesRatio)\r\n    setRotation(refHour, hoursRatio)\r\n  }\r\n\r\n  const updateTime = () => {\r\n    const time = new Date().toLocaleString(\"en-GB\", {timeZone: timezone}).substring(12,20);\r\n    setClockTime(time);\r\n    setClock();\r\n  }\r\n\r\n  const setRotation = (element, rotationRatio) => {\r\n    element.current.style.setProperty('--rotation', rotationRatio * 360)\r\n\r\n  }\r\n\r\n  //----------------------- фукнция для получения данный из select -----------------------\r\n  const getAttributeSelect = (e) => {\r\n    const attr = {\r\n      id: e.target.id,\r\n      value: e.target.value\r\n    }\r\n    return attr;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper-clock\" >\r\n      <div className=\"clock-box\">\r\n        <div className=\"clock\" >\r\n          <div className=\"hand hour\" ref={refHour}></div>\r\n          <div className=\"hand minute\" ref={refMinute}></div>\r\n          <div className=\"hand second\" ref={refSecond}></div>\r\n          <div className=\"number number1\">|</div>\r\n          <div className=\"number number2\">|</div>\r\n          <div className=\"number number3\">3</div>\r\n          <div className=\"number number4\">|</div>\r\n          <div className=\"number number5\">|</div>\r\n          <div className=\"number number6\">6</div>\r\n          <div className=\"number number7\">|</div>\r\n          <div className=\"number number8\">|</div>\r\n          <div className=\"number number9\">9</div>\r\n          <div className=\"number number10\">|</div>\r\n          <div className=\"number number11\">|</div>\r\n          <div className=\"number number12\">12</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"digitalTime\">\r\n        <h1>{clockTime}</h1>\r\n      </div>\r\n      <div className=\"nameCity\">\r\n        <h3>{timezone === 'Asia/Krasnoyarsk' && 'Красноярск'}</h3>\r\n        <h3>{timezone === 'Europe/Kaliningrad' && 'Калининград'}</h3>\r\n        <h3>{timezone === 'Europe/Moscow' && 'Москва'}</h3>\r\n        <h3>{timezone === 'Asia/Vladivostok' && 'Владивосток'}</h3>\r\n      </div>\r\n      <div className=\"selectCity\">\r\n        <select value={timezone} id={id} onChange={(e) => onChangeTimezone(dispatch(changeTimeZone(getAttributeSelect(e))))} >\r\n          <option value='Europe/Moscow' >Москва</option>\r\n          <option value='Asia/Krasnoyarsk' >Красноярск</option>\r\n          <option value='Asia/Vladivostok'>Владивосток</option>\r\n          <option value='Europe/Kaliningrad'>Калининград</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clock;\r\n\r\n","export const changeTimeZone = (propsClock) => {\r\n    return {\r\n      type: 'CHANGE_TIMEZONE',\r\n      payload: propsClock\r\n    };\r\n  };","import { useEffect, useRef } from 'react';\r\n\r\nconst useInterval = (callback, delay) => {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    const tick = () => {\r\n      savedCallback.current();\r\n    };\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n};\r\n\r\nexport default useInterval;","import './App.css';\nimport React, { useState} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Clock from '../clock/Clock';\nimport useInterval from '../../useInterval'\nimport { useSelector } from 'react-redux';\n\nfunction App() {\n  const stateRedux = useSelector((state) => state.timezoneReducer);\n  const [interval, incrementInterval] = useState(0);\n  const [timezone, setTimezone] = useState(stateRedux.clocks[0].timeZone);\n  const [timezone2, setTimezone2] = useState(stateRedux.clocks[1].timeZone);\n\n  const onChangeTimezone = (e) => {\n        setTimezone(stateRedux.clocks[0].timeZone)\n    }\n\n  const onChangeTimezone2 = (e) => {\n    setTimezone2(stateRedux.clocks[1].timeZone)\n  } \n\n  useInterval(\n    () => {\n      incrementInterval(interval + 1);\n    },\n    1000,\n  );\n\n  return (\n    <div className=\"App\">\n      <Clock id={'clock1'} interval={interval} timezone={timezone}  onChangeTimezone={onChangeTimezone}/>\n      <Clock id={'clock2'} interval={interval} timezone={timezone2}  onChangeTimezone={onChangeTimezone2}/>\n    </div>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store/store';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}